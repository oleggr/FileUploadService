(function(){"use strict";var e={3339:function(e,t,r){var i=r(9242),n=r(3396);const s={class:"container"},o=(0,n._)("h1",{align:"center"},"View files",-1);function a(e,t,r,i,a,u){const c=(0,n.up)("S3FileViewer");return(0,n.wg)(),(0,n.iD)("div",s,[o,(0,n.Wm)(c)])}var u=r(7139);const c={class:"request_input"},l={style:{width:"60%"}},d=["href"],h={class:"td-center"},f={class:"td-center"};function m(e,t,r,s,o,a){return(0,n.wg)(),(0,n.iD)(n.HY,null,[(0,n._)("div",{id:"drag-form",onDragover:t[2]||(t[2]=(0,i.iM)((()=>{}),["prevent"])),onDrop:t[3]||(t[3]=(0,i.iM)((()=>{}),["prevent"]))},[(0,n._)("div",c,[(0,n.wy)((0,n._)("input",{class:"request_input_field",type:"text",id:"drag-form-request-id","onUpdate:modelValue":t[0]||(t[0]=t=>e.request_id=t),placeholder:"Request ID",onKeyup:t[1]||(t[1]=(0,i.D2)(((...e)=>a.searchRequest&&a.searchRequest(...e)),["enter"]))},null,544),[[i.nr,e.request_id]])])],32),(0,n._)("table",l,[(0,n._)("tr",null,[(0,n._)("th",{onClick:t[4]||(t[4]=(...e)=>a.sortByName&&a.sortByName(...e))},"Filename"),(0,n._)("th",{style:{width:"25%"},onClick:t[5]||(t[5]=(...e)=>a.sortBySize&&a.sortBySize(...e))},"Size"),(0,n._)("th",{style:{width:"25%"},onClick:t[6]||(t[6]=(...e)=>a.sortByDate&&a.sortByDate(...e))},"Created at")]),((0,n.wg)(!0),(0,n.iD)(n.HY,null,(0,n.Ko)(e.items,((t,r)=>((0,n.wg)(),(0,n.iD)("tr",{key:r},[(0,n._)("td",null,[(0,n._)("a",{style:{"text-decoration":"none"},href:`http://127.0.0.1:8000/object/get?request_id=${e.request_id}&filename=${t.name}`},(0,u.zw)(t.name),9,d)]),(0,n._)("td",h,(0,u.zw)(t.size),1),(0,n._)("td",f,(0,u.zw)(t.created),1)])))),128))])],64)}var p=r(6265),v=r.n(p),_={name:"S3FileView",data:()=>({request_id:new URL(window.location.href).searchParams.get("request_id"),items:[],nameSortOrder:!0,sizeSortOrder:!0,dateSortOrder:!0}),mounted(){this.getFiles()},methods:{getFiles:function(){v().get("http://127.0.0.1:8000/object/list?request_id="+this.request_id).then((e=>{this.items=e.data,console.log(e)})).catch((e=>{this.$toast.show("Failed while trying to get files list. "+e.request.response,{type:"error",dismissible:!0,duration:!1}),console.log(e)}))},searchRequest:function(){window.location.href="http://127.0.0.1:8000/view?request_id="+this.request_id},sortByName:function(){this.nameSortOrder?(this.nameSortOrder=!1,this.items=this.items.slice().sort((function(e,t){return e.name>t.name?1:-1}))):(this.nameSortOrder=!0,this.items=this.items.slice().sort((function(e,t){return e.name<t.name?1:-1})))},sortBySize:function(){this.sizeSortOrder?(this.sizeSortOrder=!1,this.items=this.items.slice().sort((function(e,t){return parseFloat(e.size)>parseFloat(t.size)?1:-1}))):(this.sizeSortOrder=!0,this.items=this.items.slice().sort((function(e,t){return parseFloat(e.size)<parseFloat(t.size)?1:-1})))},sortByDate:function(){this.dateSortOrder?(this.dateSortOrder=!1,this.items=this.items.slice().sort((function(e,t){return e.created>t.created?1:-1}))):(this.dateSortOrder=!0,this.items=this.items.slice().sort((function(e,t){return e.created<t.created?1:-1})))}}},w=r(89);const g=(0,w.Z)(_,[["render",m],["__scopeId","data-v-9bc5b3a6"]]);var y=g,O={name:"App",components:{S3FileViewer:y}};const b=(0,w.Z)(O,[["render",a]]);var S=b,q=r(5860);(0,i.ri)(S).use(q.ZP).mount("#app")}},t={};function r(i){var n=t[i];if(void 0!==n)return n.exports;var s=t[i]={exports:{}};return e[i](s,s.exports,r),s.exports}r.m=e,function(){var e=[];r.O=function(t,i,n,s){if(!i){var o=1/0;for(l=0;l<e.length;l++){i=e[l][0],n=e[l][1],s=e[l][2];for(var a=!0,u=0;u<i.length;u++)(!1&s||o>=s)&&Object.keys(r.O).every((function(e){return r.O[e](i[u])}))?i.splice(u--,1):(a=!1,s<o&&(o=s));if(a){e.splice(l--,1);var c=n();void 0!==c&&(t=c)}}return t}s=s||0;for(var l=e.length;l>0&&e[l-1][2]>s;l--)e[l]=e[l-1];e[l]=[i,n,s]}}(),function(){r.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return r.d(t,{a:t}),t}}(),function(){r.d=function(e,t){for(var i in t)r.o(t,i)&&!r.o(e,i)&&Object.defineProperty(e,i,{enumerable:!0,get:t[i]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={428:0};r.O.j=function(t){return 0===e[t]};var t=function(t,i){var n,s,o=i[0],a=i[1],u=i[2],c=0;if(o.some((function(t){return 0!==e[t]}))){for(n in a)r.o(a,n)&&(r.m[n]=a[n]);if(u)var l=u(r)}for(t&&t(i);c<o.length;c++)s=o[c],r.o(e,s)&&e[s]&&e[s][0](),e[s]=0;return r.O(l)},i=self["webpackChunkupload_logs"]=self["webpackChunkupload_logs"]||[];i.forEach(t.bind(null,0)),i.push=t.bind(null,i.push.bind(i))}();var i=r.O(void 0,[998],(function(){return r(3339)}));i=r.O(i)})();
//# sourceMappingURL=viewer.a121fc48.js.map